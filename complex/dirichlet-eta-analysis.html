<!DOCTYPE html>
<html lang="en">
<head>
    <style>
        #div1 {
            height: 100%;
            min-height: 900px;
            width: 100%;
        }
    </style>
    <meta charset="UTF-8">
    <title>Riemann Zeta</title>
    <script src="lib/math.min.js"></script>
    <script src="plotutils.js"></script>
    <script>
        const Z = [
            14.134725142,
            21.022039639,
            25.010857580,
            30.424876126,
            32.935061588,
            37.586178159,
            40.918719012,
            43.327073281,
            48.005150881,
            49.773832478,
            52.970321478,
            56.446247697,
            59.347044003,
            60.831778525,
            65.112544048,
            67.079810529,
            69.546401711,
            72.067157674,
            75.704690699,
            77.144840069,
            79.337375020,
            82.910380854,
            84.735492981,
            87.425274613,
            88.809111208,
            92.491899271,
            94.651344041,
            95.870634228,
            98.831194218,
            101.317851006,
            103.725538040,
            105.446623052,
            107.168611184,
            111.029535543,
            111.874659177,
            114.320220915,
            116.226680321,
            118.790782866,
            121.370125002,
            122.946829294
        ];
        function addPoint(plot, x, y) {
            plot.x.push(x);
            plot.y.push(y);
        }

        function round(r) {
            return Math.round(r*10000)/10000;
        }

        function calcEta(a, b) {
            let f = '-';
            let fx = '';
            let sumRe = 0;
            let sumIm = 0;
            let k = 1;
            let s1;
            for (let n = 1; n < 50; n++) {
                f = k % 2 === 1? '+': '-';
                fx = `${f}1/(${k}^((${a} + ${b}i)))`;
                // console.log('fx', fx);
                s1 = math.evaluate(fx);
                sumRe += s1.re;
                sumIm += s1.im;
                k++;
            }
            return {x: sumRe, y: sumIm};
        }

        function smoothPlotEta(a, b) {
            var plot = {x: [], y: []};
            let fx1 = '';
            let fx2 = '';
            let sumRe = 0;
            let sumIm = 0;
            let k = 1;
            let s1, s2;
            for (let n = 1; n < 100; n++) {
                fx1 = `+1/(${k}^((${a} + ${b}i)))`;
                fx2 = `-1/(${k+1}^((${a} + ${b}i)))`;
                console.log('fx1', fx1);
                console.log('fx2', fx2);
                s1 = math.evaluate(fx1);
                s2 = math.evaluate(fx2);
                sumRe = sumRe + s1.re + s2.re;
                sumIm = sumIm + s1.im + s2.im;
                addPoint(plot, sumRe, sumIm);
                k = k + 2;
            }
            return plot;
        }

        function plotEta(a, b) {
            var plot = {x: [], y: []};
            let f = '-';
            let fx = '';
            let sumRe = 0;
            let sumIm = 0;
            let k = 1;
            let s1;
            for (let n = 1; n < 100; n++) {
                f = k % 2 === 1? '+': '-';
                fx = `${f}1/(${k}^((${a} + ${b}i)))`;
                console.log('fx', fx);
                s1 = math.evaluate(fx);
                sumRe += s1.re;
                sumIm += s1.im;
                addPoint(plot, sumRe, sumIm);
                k++;
            }
            return plot;
        }

    </script>
    <!-- Plotly.js -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>

<div id="div1"></div>

<script>
    function test() {
        var data = [];
        var k = 1;
        var s;
        var a = 0.5;
        var b = Z[0];
        var plotRe = {
            x: [], y: [], type: 'scatter', mode: 'lines+markers',
            line: {
                color: 'rgb(55, 128, 191)',
                width: 2
            }
        };

        var plotIm = {
            x: [], y: [], type: 'scatter', mode: 'lines+markers',
            line: {
                color: 'rgb(191, 128, 55)',
                width: 2
            }
        };

        var plotOut = {
            x: [], y: [], type: 'scatter', mode: 'lines+markers',
            line: {
                color: 'rgb(191, 55, 128)',
                width: 2
            }
        };

        while(k < 1000) {
            s = math.evaluate(`(${k}^(${a} + ${b}i))`);
            console.log(`${k} : ${s.re}`);
            // addPoint(plot, s.re, s.im);
            addPoint(plotRe, k, s.re);
            addPoint(plotIm, k, s.im);
            addPoint(plotOut, s.re, s.im);
            k = k + 1;
        }
        data.push(plotRe);
        data.push(plotIm);
        data.push(plotOut);
        var layout1 = { title : "" };
        Plotly.newPlot('div1', data, layout1);
    }
    test();

     //1/1 + 1/(1*2) + (1*2)/(1*2*3) + (1*2*3)/(1*2*3*4) + (1*2*3*4)/(1*2*3*4*5) + (1*2*3*4*5)/(1*2*3*4*5*6) +

    // 1/1
    // 1/(1*2) +
    // (1*2)/(1*2*3) +
    // (1*2*3)/(1*2*3*4) +
    // (1*2*3*4)/(1*2*3*4*5) +
    // (1*2*3*4*5)/(1*2*3*4*5*6) +
    // (1*2*3*4*5*6)/(1*2*3*4*5*6*7) +

    // (2/2) * 1/1 // (1*2)/(1*2)
    // (3/3) * 1 + (1*2)/(1*2) + //(1*3) + (1*2*3)/(1*2*3)
    // (4/4) * [(1*3)+(1*2*3)+(1*2)]/(1*2*3) + // [(1*3*4)+(1*2*3*4)+(1*2*4)]/(1*2*3*4)
    // (5/5) * [(1*3*4)+(1*2*3*4)+(1*2*4)+(1*2*3)]/(1*2*3*4) + //[(1*3*4*5)+(1*2*3*4*5)+(1*2*4*5)+(1*2*3*5)]/(1*2*3*4*5)
    // (6/6) * [(1*3*4*5)+(1*2*3*4*5)+(1*2*4*5)+(1*2*3*5)+(1*2*3*4)]/(1*2*3*4*5) + //[(1*3*4*5*6)+(1*2*3*4*5*6)+(1*2*4*5*6)+(1*2*3*5*6)+(1*2*3*4*6)]/(1*2*3*4*5*6)
    // (7/7) * [(1*2*3*4*5*6)+(1*3*4*5*6)+(1*2*4*5*6)+(1*2*3*5*6)+(1*2*3*4*6)+(1*2*3*4*5)]/(1*2*3*4*5*6) + // [(1*2*3*4*5*6*7)+(1*3*4*5*6*7)+(1*2*4*5*6*7)+(1*2*3*5*6*7)+(1*2*3*4*6*7)+(1*2*3*4*5*7)]/(1*2*3*4*5*6*7)
    // (8/8) * [(1*2*3*4*5*6*7)+(1*3*4*5*6*7)+(1*2*4*5*6*7)+(1*2*3*5*6*7)+(1*2*3*4*6*7)+(1*2*3*4*5*7)(1*2*3*4*5*6)]/(1*2*3*4*5*6*7) +

    // (7!/7 + 7!/6 + 7!/5 + 7!/4 + 7!/3 + 7!/2 + 7!/1)/7!
    // (7!/7 + 7!/6 + 7!/5 + 7!/4 + 7!/3 + 7!/2 + 7!/1)
/*
((0!*17!)/1!)*(1/17!)
((1!*17!)/2!)*(1/17!)
((2!*17!)/3!)*(1/17!)
((3!*17!)/4!)*(1/17!)
((4!*17!)/5!)*(1/17!)
((5!*17!)/6!)*(1/17!)
((6!*17!)/7!)*(1/17!)
((7!*17!)/8!)*(1/17!)
((8!*17!)/9!)*(1/17!)
((9!*17!)/10!)*(1/17!)
((10!*17!)/11!)*(1/17!)
((11!*17!)/12!)*(1/17!)
((12!*17!)/13!)*(1/17!)
((13!*17!)/14!)*(1/17!)
((14!*17!)/15!)*(1/17!)
((15!*17!)/16!)*(1/17!)
((16!*17!)/17!)*(1/17!)
    ...
*/
</script>

</body>
</html>
